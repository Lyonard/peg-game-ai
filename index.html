<html>
<body>
<script src="js/jquery-1.11.1.min.js" type="text/javascript"></script>
<script src="thegame.js" type="text/javascript"></script>
<script src="js/ai.js" type="text/javascript"></script>
<script src="js/gameui.js" type="text/javascript"></script>

<link href='http://fonts.googleapis.com/css?family=Roboto+Slab:400,300' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="style.css"/>

<div id="header">
    <h1 class="title">Peg game - English version</h1>
</div>
<div id="wrapper">
    <p>Peg solitaire is a board game for one player involving movement of pegs on a board with holes. <br/>
        Some sets use marbles in a board with indentations. The game is known simply as <b>Solitaire</b> in the United
        Kingdom.</p>

    <a id="showrules" title="Show rules" alt="Show rules" href="#">Show rules</a>
    <div id="rules" class="hidden" title="From Wikipedia" alt="From Wikipedia">
        <p>The standard game fills the entire board with pegs except for the central hole.<br/>
            The objective is, making valid moves, to empty the entire board except for a solitary peg in the central
            hole.<br/>
            A valid move is to jump a peg orthogonally over an adjacent peg into a hole two positions away and then to
            remove the jumped peg.
        </p>
    </div>
    <div id="board_container">
        <div class="row" id="row0">
            <div class="cell wall sx"></div>
            <div class="cell wall sx"></div>
            <div class="cell empty sx"></div>
            <div class="cell empty sx"></div>
            <div class="cell empty sx"></div>
            <div class="cell wall sx"></div>
            <div class="cell wall sx"></div>
            <div class="clear"></div>
        </div>
        <div class="row" id="row1">
            <div class="cell wall sx"></div>
            <div class="cell wall sx"></div>
            <div class="cell empty sx"></div>
            <div class="cell empty sx"></div>
            <div class="cell empty sx"></div>
            <div class="cell wall sx"></div>
            <div class="cell wall sx"></div>
            <div class="clear"></div>
        </div>
        <div class="row" id="row2">
            <div class="cell empty sx"></div>
            <div class="cell empty sx"></div>
            <div class="cell empty sx"></div>
            <div class="cell empty sx"></div>
            <div class="cell empty sx"></div>
            <div class="cell empty sx"></div>
            <div class="cell empty sx"></div>
            <div class="clear"></div>
        </div>
        <div class="row" id="row3">
            <div class="cell empty sx"></div>
            <div class="cell empty sx"></div>
            <div class="cell empty sx"></div>
            <div class="cell empty sx"></div>
            <div class="cell empty sx"></div>
            <div class="cell empty sx"></div>
            <div class="cell empty sx"></div>
            <div class="clear"></div>
        </div>
        <div class="row" id="row4">
            <div class="cell empty sx"></div>
            <div class="cell empty sx"></div>
            <div class="cell empty sx"></div>
            <div class="cell empty sx"></div>
            <div class="cell empty sx"></div>
            <div class="cell empty sx"></div>
            <div class="cell empty sx"></div>
            <div class="clear"></div>
        </div>
        <div class="row" id="row5">
            <div class="cell wall sx"></div>
            <div class="cell wall sx"></div>
            <div class="cell empty sx"></div>
            <div class="cell empty sx"></div>
            <div class="cell empty sx"></div>
            <div class="cell wall sx"></div>
            <div class="cell wall sx"></div>
            <div class="clear"></div>
        </div>
        <div class="row" id="row6">
            <div class="cell wall sx"></div>
            <div class="cell wall sx"></div>
            <div class="cell empty sx"></div>
            <div class="cell empty sx"></div>
            <div class="cell empty sx"></div>
            <div class="cell wall sx"></div>
            <div class="cell wall sx"></div>
            <div class="clear"></div>
        </div>
    </div>
    <div id="board_controls">
        <div class="button sx" id="stepbackward" role="button" title="Step 1 move back" alt="Step 1 move back">
            &#8592;
        </div>
        <div class="button sx" id="play" role="button" role="button" title="Play AI moves" alt="Play AI moves">
            &#9654;
        </div>
        <div class="button sx hidden" id="pause" role="button" role="button" title="Play AI moves" alt="Play AI moves">
            &#10074; &#10074;
        </div>
        <div class="button sx" id="stepforward" role="button" title="Step 1 move forward" alt="Step 1 move forward">
            &#8594;
        </div>
        <span class="clear"></span>
    </div>
</div>

<script>
    var solution = [];
    var moves = [];
    var movesIndex = 0;
    var playInterval = null;
    var startNode = null;

    $(function () {
        startNode = new Node();
        prepareBoard(startNode);

        solution = astar(startNode);

        for (var i = 0; i < solution.length - 1; i++) {
            moves.push(diffMoves(solution[i], solution[i + 1]));
        }

    });

</script>

</body>
</html>